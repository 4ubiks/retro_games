#include "pacmanLibC.h"
#include "systemCalls.h"
#include "constants.h"

// screens
void printPacman();
void printTag();
void printWelcomeScreen();
void printRules();
void printGameOver();
void printYouWin();
void printBoard();

// game logic

int main(){
	clearScreen();
	printWelcomeScreen();

	char *buffer = (char *)KEYBOARD_BUFFER;
	while (true){
		readKeyboard(buffer);
		unsigned char testKey = (unsigned char)(*(char *)KEYBOARD_BUFFER);

		if (testKey != 0x93) {printWelcomeScreen(); break;}
		else {printRules(); readKeyboard(buffer);}
	}

	clearScreen();

	while (true){
		printBoard();
	}

	return 0;
}

void printPacman(){
	printString((char *)":::::::::     :::      ::::::::         ::::    ::::      :::     ::::    :::", 5, 2, COLOR_PACMAN);
	printString((char *)":+:    :+:  :+: :+:   :+:    :+:        +:+:+: :+:+:+   :+: :+:   :+:+:   :+:", 6, 2, COLOR_PACMAN);
	printString((char *)"+:+    +:+ +:+   +:+  +:+               +:+ +:+:+ +:+  +:+   +:+  :+:+:+  +:+", 7, 2, COLOR_PACMAN);
	printString((char *)"+#++:++#+ +#++:++#++: +#+        #++:++ +#+  +:+  +#+ +#++:++#++: +#+ +:+ +#+", 8, 2, COLOR_PACMAN);
	printString((char *)"+#+       +#+     +#+ +#+               +#+       +#+ +#+     +#+ +#+  +#+#+#", 9, 2, COLOR_PACMAN);
	printString((char *)"#+#       #+#     #+# #+#    #+#        #+#       #+# #+#     #+# #+#   #+#+#", 10, 2, COLOR_PACMAN);
	printString((char *)"###       ###     ###  ########         ###       ### ###     ### ###    ####", 11, 2, COLOR_PACMAN);
}

void printTag(){
	printString((char *)"Press any key to start...", 14, 26, COLOR_WHITE);
	printString((char *)"version 1.0", 23, 32, COLOR_BLUE_BARRIER);
}

void printWelcomeScreen(){
	printPacman();
	printTag();
}

void printRules(){
	clearScreen();
	printString((char *)"it's pacman, dude", 7, 30, COLOR_WHITE);
}

void printGameOver(){
	
}

void printYouWin(){
	
}

void printBoard(){
	//char boardArray[] = {0xcb, 0xcd, 0xcd, 0xcd, 0xcd, 0x0};
	// corner, lines (x7), threes, lines (x9), threes, lines (x7), corner
	unsigned char topArray[] = { 0xc9, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 
								   0xcb, 
								   0xcd ,0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd,
								   0xcb, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xbb, 0x00};

	unsigned char t1array[] = { 0xba, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0xba,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0xba, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xba, 0x00};

	unsigned char t2array[] = { 0xba, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xba, 0x00};

	unsigned char t3array[] = { 0xba, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0xd0,
								   0x20, 0x20, 0x20, 0x3d, 0x3d, 0x3d, 0x3d, 0x3d, 0x3d, 0x3d, 0x3d, 0x3d, 0x3d, 0x3d, 0x3d, 0x3d, 0x3d, 0x3d, 0x20, 0x20, 0x20,
								   0xd0, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xba, 0x00};

	unsigned char t4array[] = { 0xba, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xba, 0x00};

	unsigned char t5array[] = { 0xba, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xba, 0x00};

	unsigned char t6array[] = { 0xba, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xba, 0x00};

	unsigned char t7array[] = { 0xba, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xba, 0x00};

	unsigned char t8array[] = { 0xba, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xba, 0x00};

	unsigned char t9array[] = { 0xba, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xba, 0x00};

	unsigned char tAarray[] = { 0xba, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0xd2,
								   0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
								   0xd2, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xba, 0x00};

	unsigned char bottomArray[] = { 0xc8, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 
								   0xca, 
								   0xcd ,0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd,
								   0xca, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xcd, 0xbc, 0x00};
	
	printString((char *)topArray, 7, 15, COLOR_BLUE_BARRIER);
	printString((char *)t1array, 8, 15, COLOR_BLUE_BARRIER);
	printString((char *)t2array, 9, 15, COLOR_BLUE_BARRIER);
	printString((char *)t3array, 10, 15, COLOR_BLUE_BARRIER);
	printString((char *)t4array, 11, 15, COLOR_BLUE_BARRIER);
	printString((char *)t5array, 12, 15, COLOR_BLUE_BARRIER);
	printString((char *)t6array, 13, 15, COLOR_BLUE_BARRIER);
	printString((char *)t7array, 14, 15, COLOR_BLUE_BARRIER);
	printString((char *)t8array, 15, 15, COLOR_BLUE_BARRIER);
	printString((char *)t9array, 16, 15, COLOR_BLUE_BARRIER);
	printString((char *)tAarray, 17, 15, COLOR_BLUE_BARRIER);
	printString((char *)bottomArray, 18, 15, COLOR_BLUE_BARRIER);
}
